@(mapDiccionario: Map[String,String], mapPermiso: Map[String,String], userMnu: utilities.UserMnu,
desde: utilities.Fechas, hasta: utilities.Fechas, uf: Double, usd: Double, eur: Double)
    	
	<!-- ANCLA CABECERAS DE TABLAS -->
	<style type="text/css"> 
        thead tr th { 
            position: sticky;
			background-color: #eeeeee;
            top: 0;
        }
    </style>



	@main("") {

		@menues(mapDiccionario, mapPermiso, userMnu, " ")
		
		<div id="enCarga" class="blocker" style="display: block;"><br><br><br><br><br><br><h1>Ahora se esta cargando.....</h1></div>
		<div id="mostrarmostrar">
			@barraTitulo(mapDiccionario, "REPORTE RESUMEN Y DETALLE POR TODOS LOS PROYECTOS (INCLUIDOS AJUSTES DE EP)",
				"PERIODO: desde " + desde.getFechaStr() +" --- hasta: " +  hasta.getFechaStr())
				
			<div class="noprint">
				<table class="table table-sm table-condensed table-fluid">
					<tr>
						<td>
							<div align="center">
								<button type="button"  class="btn btn-sm btn-success" onclick="document.getElementById('excel').submit()">
									Exportar a Excel
								</button>
								<button type="button" class="btn btn-sm btn-success" tabindex="-1" onclick="window.print(); return false;" >
									Imprimir
								</button>
								<button type="button"  class="btn btn-sm btn-success" 
									onclick="history.go(-1);return false;">
									Volver
								</button>
							</div>
						</td>
					</tr>
				</table>
			</div>
			
			<form id="excel" class="formulario" method="post" action="/reportFacturaResumenExcel/">
				<input type="hidden" name="fechaDesde" value="@desde.getFechaSql().toString()">
				<input type="hidden" name="fechaHasta" value="@hasta.getFechaSql().toString()">
				<input type="hidden" name="uf" value="@uf">
				<input type="hidden" name="usd" value="@usd">
				<input type="hidden" name="eur" value="@eur">
			</form>
			
			
			<table id="general" class="table table-sm table-bordered table-condensed table-fluid">
				<tr>
					<td>
						<div align="left"><h5><b><font color="#008000"> RESUMEN POR PROYECTOS (INCLUYE AJUSTES A EP): </font></b></h5></div>
						
						<div id="resumenPorPJson"></div>
					</td>
				</tr>
				
				
					<tr>
						<td><br><br><br>
							<div align="left"><h5><b><font color="#008000"> RESUMEN POR FAMILIAS Y PROYECTOS (SIN AJUSTES A EP): </font></b></h5></div>
							<div id="resumenPorPyGJson"></div>
						</td>
					</tr>
					<!--
					<tr>
						<td><br><br><br>
							<div align="left"><h5><b><font color="#008000"> DETALLE POR PROYECTO (INCLUYE AJUSTES A EP): </font></b></h5></div>
							<div id="resumenPorPyGyDJson"></div>
						</td>
					</tr>
				-->
				
			
			</table>
			
		</div>
		
	}
		
		
		
		<script type="text/javascript">
		
		window.addEventListener('load', function() {
		document.getElementById('mostrarmostrar').style.display="block";
		
		
		
		let formData = new FormData();
		formData.append("fechaDesde","@desde.getFechaSql().toString()");
		formData.append("fechaHasta","@hasta.getFechaSql().toString()");
		formData.append("uf","@uf");
		formData.append("usd","@usd");
		formData.append("eur","@eur");
		$.ajax({
		    url: "/reportFacturaResumenJson/",
		    type: "POST",
		    method: "POST",
		    data: formData,
		    cache: false,
		    contentType: false,
		 	processData: false,
		 	success: function(rs){
		 		if(rs=="error"){
		 			alertify.alert('Se presento un problema o usted no tiene permisos otorgados, por favor vuelva a ingresar y si persiste el problema, contactar a soporte', function(){ 
						location.href = "/"; 
					});
		 		}else{
	
					let jsonPorPJson =rs["resumenPorPJson"];
					let jsonTotales =rs["resumenTotalesJson"];
					let jsonPorPyGJson = rs["resumenPorPyGJson"];
				//	let jsonPorPyGyDJson = rs["resumenPorPyGyDJson"];
		
				//	vistaPrincipal(jsonPorPJson, jsonTotales, jsonPorPyGJson, jsonPorPyGyDJson);
				
				vistaPrincipal(jsonPorPJson, jsonTotales, jsonPorPyGJson);
				
				}
			}
		});
		
		
	});
	
	const vistaPrincipal =(jsonPorPJson, jsonTotales, jsonPorPyGJson) =>{
		

				let tablaProyectos = ""
					+ "<table id=\"tablaProyectos\" class=\"table table-sm table-hover table-bordered table-condensed table-fluid\">"
						+ "<thead style=\"background-color: #eeeeee\">"
							+ "<TR> "
								+ "<TH style= \"text-align:center; vertical-align:top;\">SUCURSAL</TH>"
								+ "<TH style= \"text-align:center; vertical-align:top;\">NOMBRE<br>"+'@mapDiccionario.get("BODEGA")'+"/PROYECTO</TH>";
										if('@mapDiccionario.get("nEmpresa")' == "CIHLA"){
											tablaProyectos += "<TH style= \"text-align:center;vertical-align:top;\">Nro CARGO</TH>";
										}else{
											tablaProyectos += "<TH style= \"text-align:center;vertical-align:top;\">"+'@mapDiccionario.get("RUT")'+"<BR>CLIENTE</TH>"
												+ "<TH style= \"text-align:center;vertical-align:top;\">NOMBRE<BR>CLIENTE</TH>";
										}
									tablaProyectos += "<TH style= \"text-align:center; vertical-align:top;\">NOMBRE<br>PROYECTO</TH>"
											+ "<TH style= \"text-align:center; vertical-align:top;\">CFI</TH>"
											+ "<TH style= \"text-align:center; vertical-align:top;\">SubTotal<br>"+'@mapDiccionario.get("ARRIENDO")'+"</TH>"
											+ "<TH style= \"text-align:center; vertical-align:top;\">SubTotal<br>VENTA</TH>"
											+ "<TH style= \"text-align:center; vertical-align:top;\">Ajustes<BR>("+'@mapDiccionario.get("ARRIENDO")'+")</TH>"
											+ "<TH style= \"text-align:center; vertical-align:top;\">Ajustes<BR>(VENTA)</TH>"
											+ "<TH style= \"text-align:center; vertical-align:top;\">TOTAL<BR>(en "+'@mapDiccionario.get("PESOS")'+")</TH>"
								+ "</TR>"
									+ "</thead>"
										+ "<tbody>";
											for(var i in jsonPorPJson){
												tablaProyectos += "<TR>";
													for(var t in jsonTotales){
														if(jsonPorPJson[i][1] == jsonTotales[t][0]){
															tablaProyectos += "<td>"+jsonPorPJson[i][14]+"</td>"
																	+ "<td>"+jsonPorPJson[i][5]+"</td>";
																if('@mapDiccionario.get("nEmpresa")' == 'CIHLA'){
																	tablaProyectos += "<td></td>";
																}else{
																	tablaProyectos += "<td>"+jsonPorPJson[i][6]+"</td>"
																			+ "<td>"+jsonPorPJson[i][7]+"</td>";
																}
															tablaProyectos += "<td>"+jsonPorPJson[i][8]+"</td>"
											    					+ "<td style= \"text-align:right;\">"+jsonTotales[t][3]+"</td>"
											    					+ "<td style= \"text-align:right;\">"+jsonTotales[t][1]+"</td>"
											    					+ "<td style= \"text-align:right;\">"+jsonTotales[t][2]+"</td>"
											    					+ "<td style= \"text-align:right;\">"+jsonTotales[t][5]+"</td>"
											    					+ "<td style= \"text-align:right;\">"+jsonTotales[t][6]+"</td>"
											    					+ "<td style= \"text-align:right;\">"+jsonTotales[t][4]+"</td>";
														}
													}
													tablaProyectos += "</TR>";
											}
											tablaProyectos += "<TR>"
													+ "<td style=\"background-color: #eeeeee\">TOTALES</td>"
													+ "<td style=\"background-color: #eeeeee\"></td>";
												if(! '@mapDiccionario.get("nEmpresa")' == 'CIHLA'){
													tablaProyectos += "<td style=\"background-color: #eeeeee\"></td>";
												}
													tablaProyectos += "<td style=\"background-color: #eeeeee\"></td>"
															+ "<td style=\"background-color: #eeeeee\"></td>"
															+ "<td style=\"background-color: #eeeeee\"></td>";
												for(var t in jsonTotales){
													if(jsonTotales[t][0] == "SUBTOTAL"){
														tablaProyectos += "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonTotales[t][3]+"</td>"
									    					+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonTotales[t][1]+"</td>"
									    					+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonTotales[t][2]+"</td>"
									    					+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonTotales[t][5]+"</td>"
									    					+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonTotales[t][6]+"</td>"
									    					+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonTotales[t][4]+"</td>";
													}
												}
												tablaProyectos += "</TR>"
														+ "</tbody>"
														+ "</table>";
				document.getElementById('resumenPorPJson').innerHTML = tablaProyectos;
				
				
				let tablaFamilias = ""
	    					+ "<table id=\"tablaFamilias\" class=\"table table-sm table-hover table-bordered table-condensed table-fluid\">"
	    						+ "<thead style=\"background-color: #eeeeee\">"
	    							+ "<TR>"
	    								+ "<TH style= \"text-align:center;vertical-align:top;\">FAMILIA/GRUPO</TH>"
	    								+ "<TH style= \"text-align:center;vertical-align:top;\">"+'@mapDiccionario.get("BODEGA")'+"/PROYECTO</TH>";
	    								if(!'@mapDiccionario.get("nEmpresa")' == "CIHLA"){
	    									tablaFamilias += "<TH style= \"text-align:center;vertical-align:top;\">"+'@mapDiccionario.get("RUT")'+" CLIENTE</TH>"
	    											+ "<TH style= \"text-align:center;vertical-align:top;\">NOMBRE CLIENTE</TH>";
	    								}
	    								tablaFamilias += "<TH style= \"text-align:center;vertical-align:top;\">NOMBRE<br>PROYECTO</TH>"
	    										+ "<TH style= \"text-align:center;vertical-align:top;\">CFI (en "+'@mapDiccionario.get("PESOS")'+")</TH>"
	    										+ "<TH style= \"text-align:center;vertical-align:top;\">"+'@mapDiccionario.get("ARRIENDO")'+" (en "+'@mapDiccionario.get("PESOS")'+")</TH>"
	    										+ "<TH style= \"text-align:center;vertical-align:top;\">VENTA (en "+'@mapDiccionario.get("PESOS")'+")</TH>"
	    										+ "<TH style= \"text-align:center;vertical-align:top;\">TOTAL<BR>(en "+'@mapDiccionario.get("PESOS")'+")</TH>"
	    							+ "</TR>"
	    						+ "</thead>"
	    						+ "<tbody>";
	    							for(var i in jsonPorPyGJson){
	    								tablaFamilias += "<TR>";
	    								if(jsonPorPyGJson[i][3] == "SUBTOTAL" || jsonPorPyGJson[i][0] == "TOTAL"){
	    									tablaFamilias += "<td style=\"background-color: #eeeeee;text-align:left;\">"+jsonPorPyGJson[i][0]+"</td>"
	    											+ "<td style=\"background-color: #eeeeee;text-align:left;\">"+jsonPorPyGJson[i][1]+"</td>";
	    											if(!'@mapDiccionario.get("nEmpresa")' == "CIHLA"){
	    												tablaFamilias += "<td style=\"background-color: #eeeeee;text-align:left;\">"+jsonPorPyGJson[i][2]+"</td>"
	    														+ "<td style=\"background-color: #eeeeee;text-align:left;\">"+jsonPorPyGJson[i][3]+"</td>";
	    											}
	    										tablaFamilias += "<td style=\"background-color: #eeeeee;text-align:left;\">"+jsonPorPyGJson[i][8]+"</td>"
	    												+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonPorPyGJson[i][4]+"</td>"
	    												+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonPorPyGJson[i][5]+"</td>"
	    												+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonPorPyGJson[i][6]+"</td>"
	    												+ "<td style=\"background-color: #eeeeee;text-align:right;\">"+jsonPorPyGJson[i][7]+"</td>";
	    								}else{
	    									tablaFamilias += "<td style=\"text-align:left;\">"+jsonPorPyGJson[i][0]+"</td>"
	    											+ "<td style=\"text-align:left;\">"+jsonPorPyGJson[i][1]+"</td>";
	    											if(!'@mapDiccionario.get("nEmpresa")' == "CIHLA"){
	    												tablaFamilias += "<td style=\"text-align:left;\">"+jsonPorPyGJson[i][2]+"</td>"
	    														+ "<td style=\"text-align:left;\">"+jsonPorPyGJson[i][3]+"</td>";
	    											}
	    											tablaFamilias += "<td style=\"text-align:left;\">"+jsonPorPyGJson[i][8]+"</td>"
	    													+ "<td style=\"text-align:right;\">"+jsonPorPyGJson[i][4]+"</td>"
	    													+ "<td style=\"text-align:right;\">"+jsonPorPyGJson[i][5]+"</td>"
	    													+ "<td style=\"text-align:right;\">"+jsonPorPyGJson[i][6]+"</td>"
	    													+ "<td style=\"text-align:right;\">"+jsonPorPyGJson[i][7]+"</td>";
	    								}
	    								tablaFamilias += "</TR>";
	    							}
	    							tablaFamilias += "</tbody>"
	    									+ "</table>";
						
						
				document.getElementById('resumenPorPyGJson').innerHTML = tablaFamilias;
				
				/*
				let tablaDetalleProyectos = "";
					for(var i in jsonPorPyGyDJson){
						if(jsonPorPyGyDJson[i][1] == "PROYECTO"){
							tablaDetalleProyectos += "<br>"
									+ "<table id=\"tablaDetalleProyectos\" class=\"table table-sm table-hover table-bordered table-condensed table-fluid\">"
										+ "<tbody>"
											+ "<TR>"
												+ "<td colspan=\"20\" style=\"background-color:green;text-align:left\">"
													+ "<h5><b><font color=\"white\"> "+jsonPorPyGyDJson[i][0]+" </font></b></h5>"
												+ "</td>"
											+ "</TR>";
						}else{
							if(jsonPorPyGyDJson[i][1] == "GRUPO"){
								tablaDetalleProyectos += ""
										+ "<tr>"
											+ "<td colspan=\"20\" style=\"text-align:left;\">"
												+ "<h6><b><font color=\"blue\"> "+jsonPorPyGyDJson[i][0]+" </font></b></h6>"
											+ "</td>"
										+ "</tr>";
							}else{
								if(jsonPorPyGyDJson[i][1] == "INVENTARIO"){
									tablaDetalleProyectos += ""
											+ "<tr>"
												+ "<td colspan=\"20\" style=\"background-color: #eeeeee;text-align:left;\">"+jsonPorPyGyDJson[i][0]+"</td>"
											+ "</tr>"
											+ "<tr>"
												+ "<td style= \"text-align: center\"></td>"
												+ "<td style= \"text-align: center\"></td>"
												+ "<td style= \"text-align: center\">Nro.Coti</td>"
												+ "<td style= \"text-align: center\">CODIGO</td>"
												+ "<td style= \"text-align: center\">EQUIPO</td>"
												+ "<td style= \"text-align: center\">UN</td>"
												+ "<td style= \"text-align: center\">CANTIDAD</td>"
												+ "<td style= \"text-align: center\">MONEDA</td>"
												+ "<td style= \"text-align: center\">P.Venta</td>"
												+ "<td style= \"text-align: center\">"+'@mapDiccionario.get("ARR")'+" x DIA</td>"
												+ "<td style= \"text-align: center\">DIAS</td>"
												+ "<td style= \"text-align: center\">TASA CAMBIO</td>"
												+ "<td style=\"text-align: center;\">CFI<br>en "+'@mapDiccionario.get("PESOS")'+"</td>"
												+ "<td style= \"text-align: center\">"+'@mapDiccionario.get("ARRIENDO")'+" (en "+'@mapDiccionario.get("PESOS")'+")</td>"
												+ "<td style= \"text-align: center\">VENTA (en "+'@mapDiccionario.get("PESOS")'+")</td>"
											+ "</tr>";
								}else{
									if(jsonPorPyGyDJson[i][1] == "DETALLE"){
										tablaDetalleProyectos += ""
												+ "<tr>"
													+ "<td colspan=\"20\" style=\"background-color: #eeeeee;text-align:left;\">"
														+ jsonPorPyGyDJson[i][0]
													+ "</td>"
												+ "</tr>"
												+ "<tr>"
													+ "<td style= \"text-align: center\">Nro.MOVIM</td>"
													+ "<td style= \"text-align:center;min-width:65px\">FECHA</td>"
													+ "<td style= \"text-align: center;width:70px\">Nro.Coti</td>"
													+ "<td style= \"text-align: center;width:70px\">CODIGO</td>"
													+ "<td style= \"text-align: center\">EQUIPO</td>"
													+ "<td style= \"text-align: center\">UN</td>"
													+ "<td style= \"text-align: center\">CANTIDAD</td>"
													+ "<td style= \"text-align: center\">MONEDA</td>"
													+ "<td style= \"text-align: center\">P.Venta</td>"
													+ "<td style= \"text-align: center\">"+'@mapDiccionario.get("ARR")'+"x DIA</td>"
													+ "<td style= \"text-align: center\">DIAS</td>"
													+ "<td style= \"text-align: center\">TASA CAMBIO</td>"
													+ "<td style=\"text-align: center;\">CFI (en "+'@mapDiccionario.get("PESOS")'+")</td>"
													+ "<td style= \"text-align: center\">"+'@mapDiccionario.get("ARRIENDO")'+" (en "+'@mapDiccionario.get("PESOS")'+")</td>"
													+ "<td style= \"text-align: center\">VENTA (en "+'@mapDiccionario.get("PESOS")'+")</td>"
												+ "</tr>";
									}else{
										if(jsonPorPyGyDJson[i][0] == "TOTAL"){
											tablaDetalleProyectos += ""
													+ "<tr>"
														+ "<td colspan=\"14\" style=\"text-align:left;\">"
															+ "<h5><b><font color=\"blue\"> "+jsonPorPyGyDJson[i][0]+" </font></b></h5>"
														+ "</td>"
														+ "<td style=\"text-align:right;\">"
															+ "<h5><b><font color=\"blue\"> "+jsonPorPyGyDJson[i][14]+" </font></b></h5>"
														+ "</td>"
													+ "</tr>"
												+ "</tbody>"
											+ "</table>"
											+ "<br><br>";
													
										}else{
											if(jsonPorPyGyDJson[i][0] == "SUBTOTALES"){
												tablaDetalleProyectos += ""
														+ "<tr>"
															+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][0]+"</td>"
															+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][1]+"</td>"
															+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][2]+"</td>"
															+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][3]+"</td>"
															+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][4]+"</td>"
															+ "<td style=\"text-align:center;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][5]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][6]+"</td>"
															+ "<td style=\"text-align:center;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][7]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][8]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][9]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][10]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][11]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][12]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][13]+"</td>"
															+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][14]+"</td>"
														+ "</tr>";
											}else{
												if(jsonPorPyGyDJson[i][0] == "AJUSTES"){
													tablaDetalleProyectos += ""
															+ "<tr>"
																+ "<td style=\"text-align:left;\"></td>"
																+ "<td style=\"text-align:left;\"></td>"
																+ "<td style=\"text-align:left;\"></td>"
																+ "<td style=\"text-align:left;\"></td>"
																+ "<td style=\"text-align:left;\">"+jsonPorPyGyDJson[i][4]+"</td>"
																+ "<td style=\"text-align:center;\">"+jsonPorPyGyDJson[i][5]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][6]+"</td>"
																+ "<td style=\"text-align:center;\">"+jsonPorPyGyDJson[i][7]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][8]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][9]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][10]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][11]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][12]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][13]+"</td>"
																+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][14]+"</td>"
															+ "</tr>";
												}else{
													if(jsonPorPyGyDJson[i][0] == "SUBTOTALES2"){
														tablaDetalleProyectos += ""
																+ "<tr>"
																	+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][0]+"</td>"
																	+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][1]+"</td>"
																	+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][2]+"</td>"
																	+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][3]+"</td>"
																	+ "<td style=\"text-align:left;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][4]+"</td>"
																	+ "<td style=\"text-align:center;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][5]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][6]+"</td>"
																	+ "<td style=\"text-align:center;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][7]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][8]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][9]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][10]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][11]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][12]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][13]+"</td>"
																	+ "<td style=\"text-align:right;background-color: #F9E79F\">"+jsonPorPyGyDJson[i][14]+"</td>"
																+ "</tr>";
													}else{
														tablaDetalleProyectos += ""
																+ "<tr>"
																	+ "<td style=\"text-align:left;\">"+jsonPorPyGyDJson[i][0]+"</td>"
																	+ "<td style=\"text-align:left;\">"+jsonPorPyGyDJson[i][1]+"</td>"
																	+ "<td style=\"text-align:left;\">"+jsonPorPyGyDJson[i][2]+"</td>"
																	+ "<td style=\"text-align:left;\">"+jsonPorPyGyDJson[i][3]+"</td>"
																	+ "<td style=\"text-align:left;\">"+jsonPorPyGyDJson[i][4]+"</td>"
																	+ "<td style=\"text-align:center;\">"+jsonPorPyGyDJson[i][5]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][6]+"</td>"
																	+ "<td style=\"text-align:center;\">"+jsonPorPyGyDJson[i][7]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][8]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][9]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][10]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][11]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][12]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][13]+"</td>"
																	+ "<td style=\"text-align:right;\">"+jsonPorPyGyDJson[i][14]+"</td>"
																+ "</tr>";
													}
												}
											}
										}
									}
								}
							}
						}
					}
					document.getElementById('resumenPorPyGyDJson').innerHTML = tablaDetalleProyectos;
				*/

 				 if('@mapDiccionario.get("nEmpresa")' != "SM8 DE MEXICO"){
					var tabla = document.getElementById('tablaFamilias');
		 			tabla.deleteRow(tabla.rows.length-1);
		 			cellsOfRow = tabla.rows[tabla.rows.length-1].getElementsByTagName('td');
		 			cellsOfRow[0].innerHTML="TOTALES"; 
 				 }
 				 
		 			document.getElementById('enProceso').style.display="none";
					document.getElementById('enCarga').style.display="none";
			   }
		</script>
		
		
	
