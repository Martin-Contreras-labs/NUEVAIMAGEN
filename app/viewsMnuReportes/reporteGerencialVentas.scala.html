@(mapDiccionario: Map[String,String], mapPermiso: Map[String,String], userMnu: utilities.UserMnu,
series: List[String], yearActual: Long, yearAnterior: Long, yearAntAnterior: Long, tabla: List[List[String]], titulo: String)


@main("") {

	<script src="@routes.Assets.versioned("highcharts/highcharts.js")"></script>
	<script src="@routes.Assets.versioned("highcharts/series-label.js")"></script>
	<script src="@routes.Assets.versioned("highcharts/exporting.js")"></script>
	<script src="@routes.Assets.versioned("highcharts/export-data.js")"></script>

	@menues(mapDiccionario, mapPermiso, userMnu, " ")

	<div id="mostrarmostrar" style="display:none;">
		@barraTitulo(mapDiccionario, "REPORTE DE VENTAS (NETAS)",titulo)

		<div class="row  justify-content-md-center">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<table class="table table-sm table-bordered table-condensed table-fluid">
					<tr>
						<TD  id="tabla" style="width:50%; height: auto; margin: 0 auto">
                            <table id="tablaPrincipal" class="table table-sm table-bordered table-condensed table-fluid">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>@yearAntAnterior</th>
                                        <th>@yearAnterior</th>
                                        <th>@yearActual</th>
                                        <th>Ranking M/Y</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @for((lista,index) <- tabla.zipWithIndex){
                                        @if(index < tabla.size() - 2) {
                                            <tr>
                                                <td>@lista.get(0)</td>
                                                <td style="text-align: right; padding: 10px 10px;">@lista.get(1)</td>
                                                <td style="text-align: right; padding: 10px 10px;">@lista.get(2)</td>
                                                <td style="text-align: right; padding: 10px 10px;">@lista.get(3)</td>
                                                <td style="text-align: center; padding: 10px 10px;">@lista.get(4)</td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <th>@tabla.get(tabla.size() - 2).get(0)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 2).get(1)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 2).get(2)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 2).get(3)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 2).get(4)</th>
                                    </tr>
                                    <tr>
                                        <th>@tabla.get(tabla.size() - 1).get(0)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 1).get(1)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 1).get(2)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 1).get(3)</th>
                                        <th style="text-align: right; padding: 10px 10px;">@tabla.get(tabla.size() - 1).get(4)</th>
                                    </tr>
                                </tfoot>
                            </table>
                        </TD>
						<TD  id="grafico" style="width:50%; height: auto; margin: 0 auto"></TD>
					</tr>
			  	</table>
				<div class="noprint">
					<div class="row justify-content-md-center" >
						<div class="col-xs-5 col-sm-2 col-md-2 col-lg-2">
							<input type="button"  value="VOLVER" class="btn btn-success btn-sm rounded-pill btn-block" onclick="window.history.back()">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
}




<script type="text/javascript">
	$(document).ready(function () {
		

		Highcharts.chart('grafico',{
            chart: {
                type: 'column'
            },
            title: {
                text: 'VENTAS NETAS (ALQ+VTAS+SERV)'
            },
            subtitle: {
                text: '(en @mapDiccionario.get("PESOS"))'
            },
            xAxis: [{
                categories:  ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],
                labels: {
                    rotation: -45
                }
            }],
            yAxis: [{ // 1er yAxis
            	min: 0,
                labels: {
                    style: {
                        color: Highcharts.getOptions().colors[1]
                    }
                },
                title: {
                    text: 'Parcial',
                    style: {
                        color: Highcharts.getOptions().colors[1]
                    }
                }
            }, { // 2do yAxis
            	min: 0,
                title: {
                    text: 'Acumulado',
                    style: {
                        color: Highcharts.getOptions().colors[0]
                    }
                },
                labels: {
                    style: {
                        color: Highcharts.getOptions().colors[0]
                    }
                },
                opposite: true
            }],
            tooltip: {
                shared: true,		                
            },
            legend: {
                layout: 'horizontal',
                align: 'center',
                verticalAlign: 'bottom',
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
            },
            series: [{
                name: 'Parcial @yearAntAnterior',
                type: 'column',
                yAxis: 1,
                data: @Html(series.get(1)),
                tooltip: {
                	valuePrefix: '@mapDiccionario.get("CLP") ',
                }
            }, {
                name: 'Acumulado @yearAntAnterior',
                type: 'spline',
                data: @Html(series.get(2)),
                tooltip: {
                	valuePrefix: '@mapDiccionario.get("CLP") ',
                }
            },{
                name: 'Parcial @yearAnterior',
                type: 'column',
                yAxis: 1,
                data: @Html(series.get(4)),
                tooltip: {
                    valuePrefix: '@mapDiccionario.get("CLP") ',
                }
            }, {
                name: 'Acumulado @yearAnterior',
                type: 'spline',
                data: @Html(series.get(5)),
                tooltip: {
                    valuePrefix: '@mapDiccionario.get("CLP") ',
                }
            },{
                name: 'Parcial @yearActual',
                type: 'column',
                yAxis: 1,
                data: @Html(series.get(7)),
                tooltip: {
                    valuePrefix: '@mapDiccionario.get("CLP") ',
                }
            }, {
                name: 'Acumulado @yearActual',
                type: 'spline',
                data: @Html(series.get(8)),
                tooltip: {
                    valuePrefix: '@mapDiccionario.get("CLP") ',
                }
            }]
        });
		document.getElementById('mostrarmostrar').style.display="block";
	  });

</script>


		
		
	
