@(listaPaises: List[String], mensaje: String)

@main("") {

<style>
	.fondo{
	   background: url('/assets/images/area5-fondo.jpg') no-repeat center center;
	   background-size: cover;
	   width: 100% ;
	   text-align: center;
	 
	}
</style>

	<div class="row">
		<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<div style="height:400px; padding-top:60px;" class="fondo">
				<div class="container align-bottom" >
					<div class="row justify-content-md-center" >
						<div class="col-xs-10 col-sm-4 col-md-4 col-lg-4">
	                    	<h2>MADA</h2>
		                    <form onsubmit="return validarIngreso()">
<!-- <a href="/routes2/prueba/" target="_blank">Abrir en nueva pestaña</a> -->
		                    		<input type="hidden" id="gRecaptchaResponse" name="gRecaptchaResponse">
		                    		<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="pais" style="width:120px">Pais</label>
									  </div>
									  <select class="custom-select" style="min-width:120px" id="pais" name="pais" 
									  		onchange='$("#ingPais").val(value)'>
									  	@for(lista <- listaPaises){
									  		<option value="@lista">@lista</option>
									  	}
									  </select>
									</div>
									<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="empresa" style="width:120px">Empresa</label>
									  </div>
									  <input type="text" class="form-control" style="min-width:120px" 
									  		onchange='value= value.toUpperCase(); $("#ingEmpresa").val(value.toUpperCase())' 
												id="empresa" name="empresa" placeholder="Empresa" required>
									</div>
									<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="userName"  style="width:120px">Usuario</label>
									  </div>
									  <input type="text" class="form-control" style="min-width:120px" 
									  		onchange='value= value.toUpperCase(); $("#ingUserName").val(value.toUpperCase())' id="userName" name="userName" placeholder="Usuario" required>
									</div>
									<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="userKey"  style="width:120px">Clave</label>
									  </div>
									  <input type="password" class="form-control" style="min-width:120px" 
									  		onchange='$("#ingUserKey").val(value)' name="userKey" placeholder="Clave" required>
									</div>
			                    
			
			
									<div id="ingresar1">
										<input type="submit"  value="INGRESAR" class="btn btn-success rounded-pill btn-block">
									</div>
			

									
		                    </form>
		                    <br>
		                    <u><a href="#" onclick="$('#olvidoClave').modal('show');">recuperar clave</a></u>
						</div>
	                  	<div class="col-xs-10 col-sm-4 col-md-4 col-lg-4" align="center">
	                  	<br>
	                    	<img src="/assets/images/mada-pc.png" alt="MADA" width="80%" height="auto">
	                  	</div>
	         		</div>
	         	</div>
	         </div>
		</div>
		<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	         <div style="padding:20px">
		         <div class="container">


					<style>
						.borderless td, .borderless th {
						    border: none;
							text-align: center;
						}
					</style>
					
					<table class="table table-sm borderless table-condensed table-fluid">
						<tr>
							<th>
								<input type="button" class="form-control font-weight-bold"
									style="text-align: center; color:blue" 
									value="Más Mada..."
									onclick="window.open('https://inqsol.cl/servicios-mada/','_blank')">
							</th>
							<th>
								<input type="button" class="form-control font-weight-bold"
									style="text-align: center; color:blue" 
									value="Tutoriales"
									onclick="window.open('https://inqsol.cl/tutoriales/#mada','_blank')">
							</th>
							<th>
								<input type="button" class="form-control font-weight-bold"
									style="text-align: center; color:blue" 
									value="Contacto"
									onclick="window.open('https://inqsol.cl/#contacto','_blank')">
							</th>
							<th>
								<input type="button" class="form-control font-weight-bold"
									style="text-align: center; color:blue" 
									value="Asesoría"
									onclick="window.open('https://inqsol.cl/asesoria/?utm_source=header','_blank')">
							</th>
						</tr>
					</table>
					
		         	
	         		<hr>
					<h5>ÁREAS CLAVE DE <span>MADA</span></h5>
					<hr>
	         		<div class="row">
						<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
						  <img src="/assets/images/area2-mejores-practicas.png" alt="MADA" width="20%" height="auto">
						  <h5>Mejores Prácticas</h5>
						  <p>Desarrollado por profesionales con vasta experiencia demostrable en el rubro. Reúne las mejores prácticas del mercado.</p>
						</div>
						<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
						  <img src="/assets/images/area3-innovacion.png" alt="MADA" width="20%" height="auto">
						  <h5>Innovación</h5>
						  <p>Es un producto innovador en el mercado, orientado a la gestión y control de inventarios como una unidad de negocios.</p>
						</div>
						<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
						  <img src="/assets/images/area4-prevencion.png" alt="MADA" width="20%" height="auto">
						  <h5>Prevención</h5>
						  <p>Administración y registro de mantenciones preventivas y correctivas sobre equipos, con sus respectivos costos y análisis.</p>
						</div>
					</div>
	     				<hr>
	  					<div align="left">
						<p class="font-weight-lighter">Contactos: pbarros&#64;inqsol.cl - jiprieto&#64;inqsol.cl</p>
	  					<p class="font-weight-lighter">Napoleon #3233, Las Condes, Santiago de Chile<br>Copyright 2016 &copy; Mada</p>
					</div>
				</div>
			</div>
		</div>
   	</div>
   	
   	<div id='olvidoClave' class='modal' role='dialog' data-backdrop='static' data-keyboard='false'>
		<div class='modal-dialog modal-dialog-scrollable ' role='document'>
			<div class='modal-content'>
				<div class='modal-header'>
					<h5 class='modal-title'>RECUPERAR CLAVE</h5>
					<button type='button' class='close' data-dismiss='modal' aria-label='Close'>
			          <span aria-hidden='true'>&times;</span>
			        </button>
				</div>
				<div class='modal-body'>
					<div class="row justify-content-md-center" >
		                    <form onsubmit="return validarRecuperar()">
		                    		<input type="hidden" id="gRecaptchaResponse2" name="gRecaptchaResponse">
		                    		<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="pais" style="width:120px">Pais</label>
									  </div>
									  <select class="custom-select" style="min-width:220px" 
									  		onchange='$("#recuPais").val(value)' id="pais" name="pais">
									  	@for(lista <- listaPaises){
									  		<option value="@lista">@lista</option>
									  	}
									  </select>
									</div>
									<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="empresa" style="width:120px">Empresa</label>
									  </div>
									  <input type="text" class="form-control" style="min-width:220px" 
									  		onchange='value= value.toUpperCase(); $("#recuEmpresa").val(value.toUpperCase())' id="empresa" name="empresa" placeholder="Empresa" required>
									</div>
									<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="userName"  style="width:120px">Usuario</label>
									  </div>
									  <input type="text" class="form-control" style="min-width:220px" 
									  		onchange='value= value.toUpperCase(); $("#recuUserName").val(value.toUpperCase())' id="userName" name="userName" placeholder="Usuario" required>
									</div>
									<div class="input-group mb-3">
									  <div class="input-group-prepend">
									    <label class="input-group-text" for="eMail"  style="width:120px">Correo (eMail)</label>
									  </div>
									  <input type="text" class="form-control" style="min-width:220px" 
									  		onchange='value= value.toUpperCase(); $("#recueMail").val(value.toUpperCase())' id="eMail" name="eMail" placeholder="eMail" required>
									</div>
			                     

									<div id="recuperar1">
										 <input type="submit"  value="ENVIAR" class="btn btn-success rounded-pill btn-block">
									</div>
		                    </form>
	         		</div>
	         	</div>
	         </div>
		</div>
	</div>

<form id="ingresar" action="/vistaPrincipal/" method="POST">
	<input type="hidden" id="ingCaptcha" name="gRecaptchaResponse">
	<input type="hidden" id="ingPais" name="pais" value="CHILE">
	<input type="hidden" id="ingEmpresa" name="empresa">
	<input type="hidden" id="ingUserName" name="userName">
	<input type="hidden" id="ingUserKey" name="userKey">
</form>

<form id="recuperar" action="/recuperarClave/" method="POST">
	<input type="hidden" id="recuCaptcha" name="gRecaptchaResponse">
	<input type="hidden" id="recuPais" name="pais" value="CHILE">
	<input type="hidden" id="recuEmpresa" name="empresa">
	<input type="hidden" id="recuUserName" name="userName">
	<input type="hidden" id="recueMail" name="eMail">
</form>

}

<script src="https://www.google.com/recaptcha/enterprise.js?render=6Lcm3DUjAAAAAMEhoeru8yNe1j7XGIRV2vG2nsV9"></script>
<script>
	function validarIngreso() {
	  grecaptcha.enterprise.ready(async () => {
	    const token = await grecaptcha.enterprise.execute('6Lcm3DUjAAAAAMEhoeru8yNe1j7XGIRV2vG2nsV9', {action: 'LOGIN'}).then(onSuccessIngreso, onError);
	  });
	  if($("#gRecaptchaResponse").val().length > 0){
	  	return true;
	  }else{
	  	return false;
	  }
	}
	function onSuccessIngreso(action_token){
		
		let btnIngresar = "<button style=\"visibility: visible;\" class=\"btn btn-success rounded-pill btn-block\""+
		" type=\"button\" disabled>"+
		"<span class=\"spinner-border spinner-border-sm mr-2\"></span>Enviando datos...</button>";
		$("#ingresar1").html(btnIngresar);
		
			$("#ingCaptcha").val(action_token);
			$("#ingresar").submit();
	}
	
	function validarRecuperar() {
	  grecaptcha.enterprise.ready(async () => {
	    const token = await grecaptcha.enterprise.execute('6Lcm3DUjAAAAAMEhoeru8yNe1j7XGIRV2vG2nsV9', {action: 'LOGIN'}).then(onSuccessRecuperar, onError);
	  });
	  if($("#gRecaptchaResponse").val().length > 0){
	  	return true;
	  }else{
	  	return false;
	  }
	}
	function onSuccessRecuperar(action_token){
		
		let btnRecuperar = "<button style=\"visibility: visible;\" class=\"btn btn-success rounded-pill btn-block\""+
		" type=\"button\" disabled>"+
		"<span class=\"spinner-border spinner-border-sm mr-2\"></span>Enviando datos...</button>";
		$("#recuperar1").html(btnRecuperar);
			
			$("#recuCaptcha").val(action_token);
			$("#recuperar").submit();
	}
	
	function onError(reason) {
	  alert("problemas con el captcha, contactar a inqsol.cl");
      location.reload();
    }
</script>


	<script>
            $(document).ready(function() {
                if("@mensaje"!="0") alert("@mensaje");          
            });
    </script>
    
    
    
    
    
    
    
    
    
    
    
